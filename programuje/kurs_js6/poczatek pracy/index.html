<!DOCTYPE html>
<html lang="pl">
<head>

	<meta charset="utf-8">
	<title>Złoty podział</title>
	<link href="arkusz.css" rel="stylesheet">
	
</head>
<body>

	<header>
	
		<h1>Generator złotych ciągów</h1>
		
	</header>

	<main>
	
		<article>
			<div class="interfejs">
				<label>
					n<sub>01</sub> = <input type="number" id="a" value="12">
				</label>
				<label>
					n<sub>02</sub> = <input type="number" id="b" value="5">
				</label>
				<p></p>
				<label>
					Ile wyrazów złotego ciągu? -> <input type="number" id="ile" value="20">
				</label>
			</div>
			<div>
				<input type="button" id="generuj_ciag" value="Generuj ciąg">
			</div>
			<div>
				<div id="ciag"></div>
				<div id="fi"></div>
			</div>	
		</article>
	</main>
	<script>
	document.getElementById('generuj_ciag').addEventListener('click',generuj)
	function generuj() {
		let ile=document.getElementById('ile').value
		let a=document.querySelector('#a').value
		let b=document.querySelector('#b').value
		let bufor
		a=parseFloat(a)
		b=parseFloat(b)
		ile=parseInt(ile)
		if(isNaN(a)||isNaN(b)||isNaN(ile)||ile<2)
		{
			document.querySelector('#ciag').innerHTML = '<p>Podaj poprawne liczby!</p>'
			document.querySelector('#fi').innerHTML = ''

		} else {
			let ciag= '<p>n<sub>x</sub></p>'
			let ratios = '<p>&Phi; =n<sub>x</sub> &divide; ,<sub>x-1</sub></p>'
			//ciag+='<div>01 -> '+a+'</div>'
			//ciag+='<div>02 -> '+b+'</div>'
			if(a%2==1)ciag+='<div>01 -><span class="odd">'+a+'</span></div>'
			else ciag+='<div>01 -><span class="even">'+a+'</span></div>'

			if(b%2==1)ciag+='<div>02 -><span class="odd">'+b+'</span></div>'
			else ciag+='<div>02 -><span class="even">'+b+'</span></div>'

			ratios +='<div>01 -> <span class="ratio">brak</span></div>'
			ratios +='<div>02 -> <span class="ratio">'+(b/a).toFixed(30)+'</span></div>'

			for ( i = 3; i <= ile; i++) {
				bufor = a
				a=b
				b=bufor+b
				if(i<10) bufor='0'; else bufor=''
				//ciag+='<div>'+bufor+i+' -> '+b+'</div>'
				if(b%2==1) ciag += '<div>'+bufor+i+' -> <span class="odd">'+b+'</span></div>'
				else ciag += '<div>'+bufor+i+' -> <span class="even">'+b+'</span></div>'
				
				ratios += '<div>'+bufor+i+' -> <span class="ratio">'+(b/a).toFixed(30)+'</span></div>'

			}

			document.querySelector('#ciag').innerHTML=ciag
			document.querySelector('#fi').innerHTML=ratios

			//alert(document.querySelector('#ciag').innerHTML)
			//alert(document.querySelector('#ciag').outerHTML)
			//alert(document.querySelector('#ciag').innerText)
			//alert(document.querySelector('#ciag').textContent)

		}


	}
		
		
	</script>

</body>
</html>